<!DOCTYPE html>
<html>

<head>
<style>
body {
  margin: 10px;
}

.wrapper { 
    display: grid;
    grid-template-columns: 95px 95px 95px 95px 95px;
    grid-gap: 10px; 
    user-select: none;
    padding-right:10px;
}

.box {
    background-color: #eaecef;
    border-color: black;
    border-style: solid;
    border-width: 1px;
    border-radius: 5px;
    height: 60px;
    line-height: 60px;
    text-align: center;
    position: relative;
}

.good {
    background-color: darkgreen !important;
}


.green {
  background-color: #dfffdb;
  border-color: darkgreen;
}

.black {
    background-color: #ff9b9d;
    border-color: red;
}

@media (hover: hover) {
    .black:hover {
        background-color: #ffaaac;
    }
    .green:hover {
        background-color: #e9ffe8;
    }
    .box:hover {
        background-color: #f7faff;
    }
}

.black:active {
    background-color: #ffaaac;
}
.green:active {
    background-color: #e9ffe8;
}
.box:active {
    background-color: #f7faff;
}

.token {
    border-radius: 10px;
    width: 15px;
    height: 15px;
    position: absolute;
    pointer-events:none;
}

.token-right {
    right: 0px;
    background-color: darkgrey;
}

.token-bottom {
    bottom: 0px;
    background-color: darkgrey;
}

.text {
    position: absolute;
    width:100%;
    pointer-events:none;
    font-size: 0.8em;
    font-weight:bold;
}


</style>
    <title>Codenames Duet Grid Generator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/kube/6.5.2/css/kube.min.css" integrity="sha256-Az61WFtkbo/P92H8CRttXjlodhTsZZD7Oln7WtwKVX4=" crossorigin="anonymous" />
</head>

<body onload='javascript:main();'>
    <h4>Secret Words - Duo</h4>
    <div class="wrapper">
        <div class='box' id='0'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='1'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='2'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='3'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='4'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='5'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='6'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='7'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='8'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='9'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='10'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='11'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='12'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='13'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='14'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='15'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='16'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='17'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='18'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='19'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='20'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='21'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='22'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='23'><div class='text'></div><div class='token'></div></div>
        <div class='box' id='24'><div class='text'></div><div class='token'></div></div>
    </div>
    <br />
    <div class="row gutters auto">
        <div class='col'>
            <button id='flipA' class="button outline">Side A</button>
            <button id='game' class='button outline secondary'>#</button>
            <button id='flipB' class="button outline">Side B</button>
        </div>
    </div>
    <br />
    <div class="row gutters auto">
        <div class='col'>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/kube/6.5.2/js/kube.min.js"></script>
    <script type="text/javascript">
var ALL_WORDS = ["AFRICA","AGENT","AIR","ALIEN","ALPS","AMAZON","AMBULANCE","AMERICA","ANGEL","ANTARCTICA","APPLE","ARM","ATLANTIS","AUSTRALIA","AZTEC","BACK","BALL","BAND","BANK","BAR","BARK","BAT","BATTERY","BEACH","BEAR","BEAT","BED","BEIJING","BELL","BELT","BERLIN","BERMUDA","BERRY","BILL","BLOCK","BOARD","BOLT","BOMB","BOND","BOOM","BOOT","BOTTLE","BOW","BOX","BRIDGE","BRUSH","BUCK","BUFFALO","BUG","BUGLE","BUTTON","CALF","CANADA","CAP","CAPITAL","CAR","CARD","CARROT","CASINO","CAST","CAT","CELL","CENTAUR","CENTER","CHAIR","CHANGE","CHARGE","CHECK","CHEST","CHICK","CHINA","CHOCOLATE","CHURCH","CIRCLE","CLIFF","CLOAK","CLUB","CODE","COLD","COMIC","COMPOUND","CONCERT","CONDUCTOR","CONTRACT","COOK","COPPER","COTTON","COURT","COVER","CRANE","CRASH","CRICKET","CROSS","CROWN","CYCLE","CZECH","DANCE","DATE","DAY","DEATH","DECK","DEGREE","DIAMOND","DICE","DINOSAUR","DISEASE","DOCTOR","DOG","DRAFT","DRAGON","DRESS","DRILL","DROP","DUCK","DWARF","EAGLE","EGYPT","EMBASSY","ENGINE","ENGLAND","EUROPE","EYE","FACE","FAIR","FALL","FAN","FENCE","FIELD","FIGHTER","FIGURE","FILE","FILM","FIRE","FISH","FLUTE","FLY","FOOT","FORCE","FOREST","FORK","FRANCE","GAME","GAS","GENIUS","GERMANY","GHOST","GIANT","GLASS","GLOVE","GOLD","GRACE","GRASS","GREECE","GREEN","GROUND","HAM","HAND","HAWK","HEAD","HEART","HELICOPTER","HIMALAYAS","HOLE","HOLLYWOOD","HONEY","HOOD","HOOK","HORN","HORSE","HORSESHOE","HOSPITAL","HOTEL","ICE","ICE CREAM","INDIA","IRON","IVORY","JACK","JAM","JET","JUPITER","KANGAROO","KETCHUP","KEY","KID","KING","KIWI","KNIFE","KNIGHT","LAB","LAP","LASER","LAWYER","LEAD","LEMON","LEPRECHAUN","LIFE","LIGHT","LIMOUSINE","LINE","LINK","LION","LITTER","LOCH NESS","LOCK","LOG","LONDON","LUCK","MAIL","MAMMOTH","MAPLE","MARBLE","MARCH","MASS","MATCH","MERCURY","MEXICO","MICROSCOPE","MILLIONAIRE","MINE","MINT","MISSILE","MODEL","MOLE","MOON","MOSCOW","MOUNT","MOUSE","MOUTH","MUG","NAIL","NEEDLE","NET","NEW YORK","NIGHT","NINJA","NOTE","NOVEL","NURSE","NUT","OCTOPUS","OIL","OLIVE","OLYMPUS","OPERA","ORANGE","ORGAN","PALM","PAN","PANTS","PAPER","PARACHUTE","PARK","PART","PASS","PASTE","PENGUIN","PHOENIX","PIANO","PIE","PILOT","PIN","PIPE","PIRATE","PISTOL","PIT","PITCH","PLANE","PLASTIC","PLATE","PLATYPUS","PLAY","PLOT","POINT","POISON","POLE","POLICE","POOL","PORT","POST","POUND","PRESS","PRINCESS","PUMPKIN","PUPIL","PYRAMID","QUEEN","RABBIT","RACKET","RAY","REVOLUTION","RING","ROBIN","ROBOT","ROCK","ROME","ROOT","ROSE","ROULETTE","ROUND","ROW","RULER","SATELLITE","SATURN","SCALE","SCHOOL","SCIENTIST","SCORPION","SCREEN","SCUBA DIVER","SEAL","SERVER","SHADOW","SHAKESPEARE","SHARK","SHIP","SHOE","SHOP","SHOT","SINK","SKYSCRAPER","SLIP","SLUG","SMUGGLER","SNOW","SNOWMAN","SOCK","SOLDIER","SOUL","SOUND","SPACE","SPELL","SPIDER","SPIKE","SPINE","SPOT","SPRING","SPY","SQUARE","STADIUM","STAFF","STAR","STATE","STICK","STOCK","STRAW","STREAM","STRIKE","STRING","SUB","SUIT","SUPERHERO","SWING","SWITCH","TABLE","TABLET","TAG","TAIL","TAP","TEACHER","TELESCOPE","TEMPLE","THEATER","THIEF","THUMB","TICK","TIE","TIME","TOKYO","TOOTH","TORCH","TOWER","TRACK","TRAIN","TRIANGLE","TRIP","TRUNK","TUBE","TURKEY","UNDERTAKER","UNICORN","VACUUM","VAN","VET","WAKE","WALL","WAR","WASHER","WASHINGTON","WATCH","WATER","WAVE","WEB","WELL","WHALE","WHIP","WIND","WITCH","WORM","YARD"];

var sideA, sideB;
var wordsA, wordsB;
var seed = Math.floor(Math.random() * 999);

function main() {
    var id = getParameterByName('id');
    if (id != null)
        seed = id;
    $('#keyid').text(seed);
    init();
}

function init() {
    $('#game').text('#' + seed);
    sideA = shuffle([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]);
    sideB = mirrorCard(sideA);
    wordsA = randomWords(ALL_WORDS, 25);
    wordsB = wordsA.slice().reverse();
}

$("#flipA").click(function() {
    if ($("#flipB").hasClass("invisible"))
        clearCard();
    else
        drawCard(sideA, wordsA);
    $("#flipB").toggleClass("invisible");
});

$("#flipB").click(function() {
    if ($("#flipA").hasClass("invisible"))
        clearCard();
    else
        drawCard(sideB, wordsB);
    $("#flipA").toggleClass("invisible");
});

$("#game").click(function() {
    var newValue = prompt("Enter the card # shown on a different device");
    if (isNumeric(newValue)) {
        seed = newValue;
        init();
    }
});

var timer;
var longClickDetector = false;
$(".box").on("mousedown touchstart",function(e){
    timer = setTimeout(function(){
        var box = $(e.target);
        box.toggleClass("good");
        longClickDetector = true;
    },400);
}).on("mouseup mouseleave touchend touchcancel touchmove",function(){
    clearTimeout(timer);
});

$(".box").click(function(e) {
    if (longClickDetector) {
        longClickDetector = false;
        return;
    }
    var box = $(e.target);
    var token = box.children(".token").first();
    if (token.hasClass("token-right token-bottom")) {
        token.removeClass("token-bottom");
    } else if (token.hasClass("token-right")) {
        token.removeClass("token-right");
    } else {
        token.addClass("token-right token-bottom");
    }
});

function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function randomWords(words, count) {
    if (words.length < count) {
        return;
    }
    var array = [];
    for (var i = 0; i < count; i++) {
        var word;
        do {
            word = randomElement(words);
        } while(array.includes(word));
        array.push(word);
    }
    return array;
}

function randomElement(array) {
    var i = Math.floor(random() * (array.length));
    return array[i];
}

function mirrorCard(arr) {
    var otherSide = new Array(25);
    for (var i = 0; i < 25; i++)
        otherSide[i] = 24 - arr[i];
    otherSide[10] = otherSide[0];
    for (var i = 11; i < 17; i++)
        otherSide[i - 11] = otherSide[i];
    otherSide[11] = otherSide[18];
    return otherSide;
}

function clearCard() {
    for (var i = 0; i < 25; i++) {
        var box = $('#' + i);
        box.removeClass();
        box.addClass("box");
        box.children(".text").text("");
        box.children(".token").removeClass("token-right token-bottom");
    }
}

function drawCard(arr, words) {
    clearCard();
    for (var i = 0; i < 9; i++) {
        $('#' + arr[i]).addClass('green');
    }
    for (var i = 9; i < 12; i++) {
        $('#' + arr[i]).addClass('black');
    }
    for (var i = 0; i < 25; i++) {
        $('#' + i).children(".text").text(words[i]);
    }
}

function shuffle(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
}

// a seedable randomization function
function random() {
    var x = Math.sin(seed++) * 10000;
    return x - Math.floor(x);
}

function isNumeric(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
}
</script>
</body>

</html>
